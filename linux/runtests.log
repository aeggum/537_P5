
**********************************************************************

Test build
build project using make

**********************************************************************
make clean
rm -rf libmfs.so client server *.o
make
gcc -shared -fpic -g -Wall -Werror -o libmfs.so mfs.c lfs.c sendPacket.c listenServer.c udp.c
gcc -Wall -Werror -o server server.c listenServer.c lfs.c udp.c
gcc -g -L. -lmfs -Wall -Werror -o client client.c


test build PASSED
 (build project using make)


**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test shutdown PASSED
 (init server and client then call shutdown)


**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test creat PASSED
 (creat a file and check with lookup)


**********************************************************************

Test write
write then read one block

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test write PASSED
 (write then read one block)


**********************************************************************

Test stat
stat a regular file

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received STAT packet
Server received STAT packet
Server received WRITE packet
Server received STAT packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test stat PASSED
 (stat a regular file)


**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 10
Inode 1 dpointer[0] is 10
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test overwrite PASSED
 (overwrite a block)


**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received READ packet
Reading from Inode 1 file-block 1, physical block 10
Inode 1 dpointer[1] is 10
Server received READ packet
Reading from Inode 1 file-block 2, physical block 11
Inode 1 dpointer[2] is 11
Server received READ packet
Reading from Inode 1 file-block 3, physical block 12
Inode 1 dpointer[3] is 12
Server received READ packet
Reading from Inode 1 file-block 4, physical block 13
Inode 1 dpointer[4] is 13
Server received READ packet
Reading from Inode 1 file-block 5, physical block 14
Inode 1 dpointer[5] is 14
Server received READ packet
Reading from Inode 1 file-block 6, physical block 15
Inode 1 dpointer[6] is 15
Server received READ packet
Reading from Inode 1 file-block 7, physical block 16
Inode 1 dpointer[7] is 16
Server received READ packet
Reading from Inode 1 file-block 8, physical block 17
Inode 1 dpointer[8] is 17
Server received READ packet
Reading from Inode 1 file-block 9, physical block 18
Inode 1 dpointer[9] is 18
Server received READ packet
Reading from Inode 1 file-block 10, physical block 19
Inode 1 dpointer[10] is 19
Server received READ packet
Reading from Inode 1 file-block 11, physical block 20
Inode 1 dpointer[11] is 20
Server received READ packet
Reading from Inode 1 file-block 12, physical block 21
Inode 1 dpointer[12] is 21
Server received READ packet
Reading from Inode 1 file-block 13, physical block 22
Inode 1 dpointer[13] is 22
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test maxfile PASSED
 (write largest possible file)


**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
WRITE: invalid block number
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received READ packet
Reading from Inode 1 file-block 1, physical block 10
Inode 1 dpointer[1] is 10
Server received READ packet
Reading from Inode 1 file-block 2, physical block 11
Inode 1 dpointer[2] is 11
Server received READ packet
Reading from Inode 1 file-block 3, physical block 12
Inode 1 dpointer[3] is 12
Server received READ packet
Reading from Inode 1 file-block 4, physical block 13
Inode 1 dpointer[4] is 13
Server received READ packet
Reading from Inode 1 file-block 5, physical block 14
Inode 1 dpointer[5] is 14
Server received READ packet
Reading from Inode 1 file-block 6, physical block 15
Inode 1 dpointer[6] is 15
Server received READ packet
Reading from Inode 1 file-block 7, physical block 16
Inode 1 dpointer[7] is 16
Server received READ packet
Reading from Inode 1 file-block 8, physical block 17
Inode 1 dpointer[8] is 17
Server received READ packet
Reading from Inode 1 file-block 9, physical block 18
Inode 1 dpointer[9] is 18
Server received READ packet
Reading from Inode 1 file-block 10, physical block 19
Inode 1 dpointer[10] is 19
Server received READ packet
Reading from Inode 1 file-block 11, physical block 20
Inode 1 dpointer[11] is 20
Server received READ packet
Reading from Inode 1 file-block 12, physical block 21
Inode 1 dpointer[12] is 21
Server received READ packet
Reading from Inode 1 file-block 13, physical block 22
Inode 1 dpointer[13] is 22
Server received READ packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test maxfile2 PASSED
 (write more blocks than possible)


**********************************************************************

Test sparse
write first and last block

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 13, physical block 10
Inode 1 dpointer[13] is 10
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 11
Inode 1 dpointer[0] is 11
Server received READ packet
Reading from Inode 1 file-block 13, physical block 10
Inode 1 dpointer[13] is 10
Server received WRITE packet
Server received READ packet
Reading from Inode 1 file-block 13, physical block 12
Inode 1 dpointer[13] is 12
Server received READ packet
Reading from Inode 1 file-block 0, physical block 11
Inode 1 dpointer[0] is 11
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test sparse PASSED
 (write first and last block)


**********************************************************************

Test stat2
stat a sparse file

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received STAT packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test stat2 PASSED
 (stat a sparse file)


**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
Server received LOOKUP packet
Server received LOOKUP packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test dir1 PASSED
 (check root for dot entries)


**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received LOOKUP packet
Server received LOOKUP packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test dir2 PASSED
 (create a new directory and check it)


**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received CREAT packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test baddir PASSED
 (try to create a file with a file parent inode)


**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received LOOKUP packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test baddir2 PASSED
 (try to lookup a file with a file parent inode)


**********************************************************************

Test unlink
unlink a file

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received UNLINK packet
test unlink FAILED


test unlink FAILED
 (unlink a file)
 MFS_Unlink returned failure pinum=0 name='test'


**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received UNLINK packet
test unlink2 FAILED


test unlink2 FAILED
 (unlink a directory)
 MFS_Unlink returned failure pinum=0 name='test'


**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received CREAT packet
Server received LOOKUP packet
Server received UNLINK packet
test empty FAILED


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir


**********************************************************************

Test name
name too long

**********************************************************************
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test name PASSED
 (name too long)


**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
Server received CREAT packet
Server received LOOKUP packet
Server received WRITE packet
Server received LOOKUP packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c
Server received LOOKUP packet
Server received READ packet
Reading from Inode 1 file-block 0, physical block 9
Inode 1 dpointer[0] is 9
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test persist PASSED
 (restart server after creating a file)


**********************************************************************

Test drop
drop every other packet sent by client

**********************************************************************
make clean
rm -rf libmfs.so client server *.o
make
gcc -shared -fpic -g -Wall -Werror -o libmfs.so mfs.c lfs.c sendPacket.c listenServer.c udp.c
gcc -Wall -Werror -o server server.c listenServer.c lfs.c udp.c
gcc -g -L. -lmfs -Wall -Werror -o client client.c
tester: drop packet
test drop FAILED
make clean
rm -rf libmfs.so client server *.o
make
gcc -shared -fpic -g -Wall -Werror -o libmfs.so mfs.c lfs.c sendPacket.c listenServer.c udp.c
gcc -Wall -Werror -o server server.c listenServer.c lfs.c udp.c
gcc -g -L. -lmfs -Wall -Werror -o client client.c


test drop FAILED
 (drop every other packet sent by client)
 User interrupted test

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write PASSED
 (write then read one block)

test stat PASSED
 (stat a regular file)

test overwrite PASSED
 (overwrite a block)

test maxfile PASSED
 (write largest possible file)

test maxfile2 PASSED
 (write more blocks than possible)

test sparse PASSED
 (write first and last block)

test stat2 PASSED
 (stat a sparse file)

test dir1 PASSED
 (check root for dot entries)

test dir2 PASSED
 (create a new directory and check it)

test baddir PASSED
 (try to create a file with a file parent inode)

test baddir2 PASSED
 (try to lookup a file with a file parent inode)

test unlink FAILED
 (unlink a file)
 MFS_Unlink returned failure pinum=0 name='test'

test unlink2 FAILED
 (unlink a directory)
 MFS_Unlink returned failure pinum=0 name='test'

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

test name PASSED
 (name too long)

test persist PASSED
 (restart server after creating a file)

test drop FAILED
 (drop every other packet sent by client)
 User interrupted test

Passed 16 of 20 tests.
Skipped 7 tests.
Overall 16 of 27
