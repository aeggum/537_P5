
**********************************************************************

Test build
build project using make

**********************************************************************
make clean
rm -rf libmfs.so client server
make
gcc -shared -fpic -g -o libmfs.so mfs.c udp.c
gcc -o server server.c lfs.c udp.c


test build PASSED
 (build project using make)
 file 'server.o' exists after make clean, removing
 file 'udp.o' exists after make clean, removing


**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
test shutdown FAILED


test shutdown FAILED
 (init server and client then call shutdown)
 Timelimit (10.0s) exceeded


**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
test creat FAILED


test creat FAILED
 (creat a file and check with lookup)
 Timelimit (10.0s) exceeded


**********************************************************************

Test write
write then read one block

**********************************************************************
test write FAILED


test write FAILED
 (write then read one block)
 Corrupt data returned by read


**********************************************************************

Test stat
stat a regular file

**********************************************************************
test stat FAILED


test stat FAILED
 (stat a regular file)
 Stat gave wrong type


**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
test overwrite FAILED


test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read


**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
test maxfile FAILED


test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read


**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
test maxfile2 FAILED


test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number


**********************************************************************

Test sparse
write first and last block

**********************************************************************
test sparse FAILED


test sparse FAILED
 (write first and last block)
 Corrupt data returned by read


**********************************************************************

Test stat2
stat a sparse file

**********************************************************************
test stat2 FAILED


test stat2 FAILED
 (stat a sparse file)
 Stat gave wrong type


**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
test dir1 FAILED


test dir1 FAILED
 (check root for dot entries)
 Timelimit (10.0s) exceeded


**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
test dir2 FAILED


test dir2 FAILED
 (create a new directory and check it)
 Timelimit (10.0s) exceeded


**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
test baddir FAILED


test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory


**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
test baddir2 FAILED


test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory


**********************************************************************

Test unlink
unlink a file

**********************************************************************
test unlink FAILED


test unlink FAILED
 (unlink a file)
 MFS_Lookup should fail on an unlinked file


**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
test unlink2 FAILED


test unlink2 FAILED
 (unlink a directory)
 MFS_Lookup should fail on an unlinked file


**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
test empty FAILED


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir


**********************************************************************

Test name
name too long

**********************************************************************
test name FAILED


test name FAILED
 (name too long)
 Name argument too long did not result in failure


**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
test persist FAILED


test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read


**********************************************************************

Test drop
drop every other packet sent by client

**********************************************************************
make clean
rm -rf libmfs.so client server
make
gcc -shared -fpic -g -o libmfs.so mfs.c udp.c
gcc -o server server.c lfs.c udp.c
test drop FAILED
make clean
rm -rf libmfs.so client server
make
gcc -shared -fpic -g -o libmfs.so mfs.c udp.c
gcc -o server server.c lfs.c udp.c


test drop FAILED
 (drop every other packet sent by client)
 Corrupt data returned by read


**********************************************************************

Test bigdir
create a directory with max number of files

**********************************************************************
test bigdir FAILED


test bigdir FAILED
 (create a directory with max number of files)
 Timelimit (180.0s) exceeded


**********************************************************************

Test bigdir2
create a directory with more files than possible

**********************************************************************
test bigdir2 FAILED


test bigdir2 FAILED
 (create a directory with more files than possible)
 MFS_Creat should fail if directory is full


**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
test deep FAILED


test deep FAILED
 (create many deeply nested directories)
 Timelimit (60.0s) exceeded


**********************************************************************

Test complex
a long sequence of creats and writes followed by a check

**********************************************************************
Filesyste to be written:

/1
/1/1
/1/1/file2 [1, None, 1]
/1/1/file1 [2]
/1/file2 [1]
/1/file1 [1]
/1/2
/1/2/file2 [1, None, 2]
/1/2/file1 [3]
/1/0
/1/0/file2 [1, None, 0]
/1/0/file1 [1]
/0
/0/1
/0/1/file2 [0, None, 1]
/0/1/file1 [1]
/0/file2 [0]
/0/file1 [0]
/0/2
/0/2/file2 [0, None, 2]
/0/2/file1 [2]
/0/0
/0/0/file2 [0, None, 0]
/0/0/file1 [0]
/2
/2/1
/2/1/file2 [2, None, 1]
/2/1/file1 [3]
/2/file2 [2]
/2/file1 [2]
/2/2
/2/2/file2 [2, None, 2]
/2/2/file1 [4]
/2/0
/2/0/file2 [2, None, 0]
/2/0/file1 [2]
checking /1/1/file2
test complex FAILED


test complex FAILED
 (a long sequence of creats and writes followed by a check)
 Corrupt data returned by read


**********************************************************************

Test complex2
a long sequence of creats and writes followed by a check

**********************************************************************
Filesyste to be written:

/1
/1/1
/1/1/1
/1/1/1/file2 [1, None, 1, None, 1]
/1/1/1/file1 [3]
/1/1/file2 [1, None, 1]
/1/1/file1 [2]
/1/1/0
/1/1/0/file2 [1, None, 1, None, 0]
/1/1/0/file1 [2]
/1/file2 [2]
/1/file1 [1]
/1/2
/1/2/1
/1/2/1/file2 [1, None, 2, None, 1]
/1/2/1/file1 [4]
/1/2/file2 [1, None, 2]
/1/2/file1 [3]
/1/2/0
/1/2/0/file2 [1, None, 2, None, 0]
/1/2/0/file1 [3]
/1/0
/1/0/1
/1/0/1/file2 [1, None, 0, None, 1]
/1/0/1/file1 [2]
/1/0/file2 [1, None, 0]
/1/0/file1 [1]
/1/0/0
/1/0/0/file2 [1, None, 0, None, 0]
/1/0/0/file1 [1]
/0
/0/1
/0/1/1
/0/1/1/file2 [0, None, 1, None, 1]
/0/1/1/file1 [2]
/0/1/file2 [0, None, 1]
/0/1/file1 [1]
/0/1/0
/0/1/0/file2 [0, None, 1, None, 0]
/0/1/0/file1 [1]
/0/file2 [0]
/0/file1 [0]
/0/2
/0/2/1
/0/2/1/file2 [0, None, 2, None, 1]
/0/2/1/file1 [3]
/0/2/file2 [0, None, 2]
/0/2/file1 [2]
/0/2/0
/0/2/0/file2 [0, None, 2, None, 0]
/0/2/0/file1 [2]
/0/0
/0/0/1
/0/0/1/file2 [0, None, 0, None, 1]
/0/0/1/file1 [1]
/0/0/file2 [0, None, 0]
/0/0/file1 [0]
/0/0/0
/0/0/0/file2 [0, None, 0, None, 0]
/0/0/0/file1 [0]
/3
/3/1
/3/1/1
/3/1/1/file2 [3, None, 1, None, 1]
/3/1/1/file1 [5]
/3/1/file2 [3, None, 1]
/3/1/file1 [4]
/3/1/0
/3/1/0/file2 [3, None, 1, None, 0]
/3/1/0/file1 [4]
/3/file2 [6]
/3/file1 [3]
/3/2
/3/2/1
/3/2/1/file2 [3, None, 2, None, 1]
/3/2/1/file1 [6]
/3/2/file2 [3, None, 2]
/3/2/file1 [5]
/3/2/0
/3/2/0/file2 [3, None, 2, None, 0]
/3/2/0/file1 [5]
/3/0
/3/0/1
/3/0/1/file2 [3, None, 0, None, 1]
/3/0/1/file1 [4]
/3/0/file2 [3, None, 0]
/3/0/file1 [3]
/3/0/0
/3/0/0/file2 [3, None, 0, None, 0]
/3/0/0/file1 [3]
/2
/2/1
/2/1/1
/2/1/1/file2 [2, None, 1, None, 1]
/2/1/1/file1 [4]
/2/1/file2 [2, None, 1]
/2/1/file1 [3]
/2/1/0
/2/1/0/file2 [2, None, 1, None, 0]
/2/1/0/file1 [3]
/2/file2 [4]
/2/file1 [2]
/2/2
/2/2/1
/2/2/1/file2 [2, None, 2, None, 1]
/2/2/1/file1 [5]
/2/2/file2 [2, None, 2]
/2/2/file1 [4]
/2/2/0
/2/2/0/file2 [2, None, 2, None, 0]
/2/2/0/file1 [4]
/2/0
/2/0/1
/2/0/1/file2 [2, None, 0, None, 1]
/2/0/1/file1 [3]
/2/0/file2 [2, None, 0]
/2/0/file1 [2]
/2/0/0
/2/0/0/file2 [2, None, 0, None, 0]
/2/0/0/file1 [2]
checking /1/1/1/file2
test complex2 FAILED


test complex2 FAILED
 (a long sequence of creats and writes followed by a check)
 Corrupt data returned by read


**********************************************************************

Test persist2
restart server after creating many dirs and files

**********************************************************************
Filesyste to be written:

/1
/1/1
/1/1/1
/1/1/1/file2 [1, None, 1, None, 1]
/1/1/1/file1 [3]
/1/1/file2 [1, None, 1]
/1/1/file1 [2]
/1/1/0
/1/1/0/file2 [1, None, 1, None, 0]
/1/1/0/file1 [2]
/1/file2 [2]
/1/file1 [1]
/1/2
/1/2/1
/1/2/1/file2 [1, None, 2, None, 1]
/1/2/1/file1 [4]
/1/2/file2 [1, None, 2]
/1/2/file1 [3]
/1/2/0
/1/2/0/file2 [1, None, 2, None, 0]
/1/2/0/file1 [3]
/1/0
/1/0/1
/1/0/1/file2 [1, None, 0, None, 1]
/1/0/1/file1 [2]
/1/0/file2 [1, None, 0]
/1/0/file1 [1]
/1/0/0
/1/0/0/file2 [1, None, 0, None, 0]
/1/0/0/file1 [1]
/0
/0/1
/0/1/1
/0/1/1/file2 [0, None, 1, None, 1]
/0/1/1/file1 [2]
/0/1/file2 [0, None, 1]
/0/1/file1 [1]
/0/1/0
/0/1/0/file2 [0, None, 1, None, 0]
/0/1/0/file1 [1]
/0/file2 [0]
/0/file1 [0]
/0/2
/0/2/1
/0/2/1/file2 [0, None, 2, None, 1]
/0/2/1/file1 [3]
/0/2/file2 [0, None, 2]
/0/2/file1 [2]
/0/2/0
/0/2/0/file2 [0, None, 2, None, 0]
/0/2/0/file1 [2]
/0/0
/0/0/1
/0/0/1/file2 [0, None, 0, None, 1]
/0/0/1/file1 [1]
/0/0/file2 [0, None, 0]
/0/0/file1 [0]
/0/0/0
/0/0/0/file2 [0, None, 0, None, 0]
/0/0/0/file1 [0]
/3
/3/1
/3/1/1
/3/1/1/file2 [3, None, 1, None, 1]
/3/1/1/file1 [5]
/3/1/file2 [3, None, 1]
/3/1/file1 [4]
/3/1/0
/3/1/0/file2 [3, None, 1, None, 0]
/3/1/0/file1 [4]
/3/file2 [6]
/3/file1 [3]
/3/2
/3/2/1
/3/2/1/file2 [3, None, 2, None, 1]
/3/2/1/file1 [6]
/3/2/file2 [3, None, 2]
/3/2/file1 [5]
/3/2/0
/3/2/0/file2 [3, None, 2, None, 0]
/3/2/0/file1 [5]
/3/0
/3/0/1
/3/0/1/file2 [3, None, 0, None, 1]
/3/0/1/file1 [4]
/3/0/file2 [3, None, 0]
/3/0/file1 [3]
/3/0/0
/3/0/0/file2 [3, None, 0, None, 0]
/3/0/0/file1 [3]
/2
/2/1
/2/1/1
/2/1/1/file2 [2, None, 1, None, 1]
/2/1/1/file1 [4]
/2/1/file2 [2, None, 1]
/2/1/file1 [3]
/2/1/0
/2/1/0/file2 [2, None, 1, None, 0]
/2/1/0/file1 [3]
/2/file2 [4]
/2/file1 [2]
/2/2
/2/2/1
/2/2/1/file2 [2, None, 2, None, 1]
/2/2/1/file1 [5]
/2/2/file2 [2, None, 2]
/2/2/file1 [4]
/2/2/0
/2/2/0/file2 [2, None, 2, None, 0]
/2/2/0/file1 [4]
/2/0
/2/0/1
/2/0/1/file2 [2, None, 0, None, 1]
/2/0/1/file1 [3]
/2/0/file2 [2, None, 0]
/2/0/file1 [2]
/2/0/0
/2/0/0/file2 [2, None, 0, None, 0]
/2/0/0/file1 [2]
checking /1/1/1/file2
test persist2 FAILED


test persist2 FAILED
 (restart server after creating many dirs and files)
 Corrupt data returned by read


**********************************************************************

Test free
check that inodes and direcrtory entries are freed

**********************************************************************
test free FAILED


test free FAILED
 (check that inodes and direcrtory entries are freed)
 User interrupted test

**********************************************************************
Summary:
test build PASSED
 (build project using make)
 file 'server.o' exists after make clean, removing
 file 'udp.o' exists after make clean, removing

test shutdown FAILED
 (init server and client then call shutdown)
 Timelimit (10.0s) exceeded

test creat FAILED
 (creat a file and check with lookup)
 Timelimit (10.0s) exceeded

test write FAILED
 (write then read one block)
 Corrupt data returned by read

test stat FAILED
 (stat a regular file)
 Stat gave wrong type

test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

test sparse FAILED
 (write first and last block)
 Corrupt data returned by read

test stat2 FAILED
 (stat a sparse file)
 Stat gave wrong type

test dir1 FAILED
 (check root for dot entries)
 Timelimit (10.0s) exceeded

test dir2 FAILED
 (create a new directory and check it)
 Timelimit (10.0s) exceeded

test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory

test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory

test unlink FAILED
 (unlink a file)
 MFS_Lookup should fail on an unlinked file

test unlink2 FAILED
 (unlink a directory)
 MFS_Lookup should fail on an unlinked file

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

test name FAILED
 (name too long)
 Name argument too long did not result in failure

test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

test drop FAILED
 (drop every other packet sent by client)
 Corrupt data returned by read

test bigdir FAILED
 (create a directory with max number of files)
 Timelimit (180.0s) exceeded

test bigdir2 FAILED
 (create a directory with more files than possible)
 MFS_Creat should fail if directory is full

test deep FAILED
 (create many deeply nested directories)
 Timelimit (60.0s) exceeded

test complex FAILED
 (a long sequence of creats and writes followed by a check)
 Corrupt data returned by read

test complex2 FAILED
 (a long sequence of creats and writes followed by a check)
 Corrupt data returned by read

test persist2 FAILED
 (restart server after creating many dirs and files)
 Corrupt data returned by read

test free FAILED
 (check that inodes and direcrtory entries are freed)
 User interrupted test

Passed 1 of 27 tests.
Overall 1 of 27
