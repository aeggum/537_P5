
**********************************************************************

Test build
build project using make

**********************************************************************
make clean
rm -rf libmfs.so client server *.o
make
gcc -shared -fpic -g -Wall -Werror -o libmfs.so mfs.c lfs.c sendPacket.c listenServer.c udp.c
gcc -Wall -Werror -o server server.c listenServer.c lfs.c udp.c
gcc -g -L. -lmfs -Wall -Werror -o client client.c


test build PASSED
 (build project using make)


**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test shutdown PASSED
 (init server and client then call shutdown)


**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test creat PASSED
 (creat a file and check with lookup)


**********************************************************************

Test write
write then read one block

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received READ packet
test write FAILED


test write FAILED
 (write then read one block)
 Corrupt data returned by read


**********************************************************************

Test stat
stat a regular file

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received STAT packet
test stat FAILED


test stat FAILED
 (stat a regular file)
 Stat gave wrong type


**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received READ packet
test overwrite FAILED


test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read


**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received READ packet
test maxfile FAILED


test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read


**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
test maxfile2 FAILED


test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number


**********************************************************************

Test sparse
write first and last block

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received READ packet
test sparse FAILED


test sparse FAILED
 (write first and last block)
 Corrupt data returned by read


**********************************************************************

Test stat2
stat a sparse file

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received WRITE packet
Server received STAT packet
test stat2 FAILED


test stat2 FAILED
 (stat a sparse file)
 Stat gave wrong type


**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
Server received CREAT packet
test dir1 FAILED


test dir1 FAILED
 (check root for dot entries)
 '.' in root should point to root inode


**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received CREAT packet
Server received CREAT packet
test dir2 FAILED


test dir2 FAILED
 (create a new directory and check it)
 '..' in directory should point to parent


**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received CREAT packet
test baddir FAILED


test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory


**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received CREAT packet
test baddir2 FAILED


test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory


**********************************************************************

Test unlink
unlink a file

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received UNLINK packet
Server received CREAT packet
test unlink FAILED


test unlink FAILED
 (unlink a file)
 MFS_Lookup should fail on an unlinked file


**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received UNLINK packet
Server received CREAT packet
test unlink2 FAILED


test unlink2 FAILED
 (unlink a directory)
 MFS_Lookup should fail on an unlinked file


**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received CREAT packet
Server received CREAT packet
Server received UNLINK packet
test empty FAILED


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir


**********************************************************************

Test name
name too long

**********************************************************************
Server received SHUTDOWN packet
new port number: 27635
inside the start_server() method
calling to listen on port: 27635
starting the server (listening) in server.c


test name PASSED
 (name too long)


**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
Server received CREAT packet
Server received CREAT packet
Server received WRITE packet
Server received CREAT packet
Server received READ packet
test persist FAILED


test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read


**********************************************************************

Test drop
drop every other packet sent by client

**********************************************************************
make clean
rm -rf libmfs.so client server *.o
make
gcc -shared -fpic -g -Wall -Werror -o libmfs.so mfs.c lfs.c sendPacket.c listenServer.c udp.c
gcc -Wall -Werror -o server server.c listenServer.c lfs.c udp.c
gcc -g -L. -lmfs -Wall -Werror -o client client.c
tester: drop packet
test drop FAILED
make clean
rm -rf libmfs.so client server *.o
make
gcc -shared -fpic -g -Wall -Werror -o libmfs.so mfs.c lfs.c sendPacket.c listenServer.c udp.c
gcc -Wall -Werror -o server server.c listenServer.c lfs.c udp.c
gcc -g -L. -lmfs -Wall -Werror -o client client.c


test drop FAILED
 (drop every other packet sent by client)
 User interrupted test

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write FAILED
 (write then read one block)
 Corrupt data returned by read

test stat FAILED
 (stat a regular file)
 Stat gave wrong type

test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

test sparse FAILED
 (write first and last block)
 Corrupt data returned by read

test stat2 FAILED
 (stat a sparse file)
 Stat gave wrong type

test dir1 FAILED
 (check root for dot entries)
 '.' in root should point to root inode

test dir2 FAILED
 (create a new directory and check it)
 '..' in directory should point to parent

test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory

test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory

test unlink FAILED
 (unlink a file)
 MFS_Lookup should fail on an unlinked file

test unlink2 FAILED
 (unlink a directory)
 MFS_Lookup should fail on an unlinked file

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

test drop FAILED
 (drop every other packet sent by client)
 User interrupted test

Passed 4 of 20 tests.
Skipped 7 tests.
Overall 4 of 27
